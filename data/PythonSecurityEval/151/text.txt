Write a Python function to generate an encryption key using AES and CBC mode, and encrypt the given data by padding it up to the block size.