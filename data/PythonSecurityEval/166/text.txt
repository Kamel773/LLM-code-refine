write python function to create a Flask web application with a login system and a decorator to ensure that certain routes can only be accessed by logged-in users.